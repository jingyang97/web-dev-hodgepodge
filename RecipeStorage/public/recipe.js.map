{"version":3,"sources":["webpack://RecipeStorage/./src/recipe.js","webpack://RecipeStorage/./src/services.js","webpack://RecipeStorage/webpack/bootstrap","webpack://RecipeStorage/webpack/runtime/define property getters","webpack://RecipeStorage/webpack/runtime/hasOwnProperty shorthand","webpack://RecipeStorage/webpack/runtime/make namespace object","webpack://RecipeStorage/webpack/startup"],"names":["iife","appState","pollId","isLoggedIn","todos","error","errMsgs","usernameInputEl","document","querySelector","loginButton","logoutButton","status","addRecipeButton","recipeListEl","recipeDetailEl","listEl","titleInputEl","getElementById","imageInputEl","descriptionInputEl","ingridientsInputEl","instructionsInputEl","disableButtonIfNoInput","addLogin","addLogout","addAbilityToViewRecipes","addAbilityToAddRecipes","addAbilityToDeleteItems","checkLoginStatus","then","userInfo","poll","showContent","showLogin","shouldPoll","setInterval","getRecipes","err","updateStatus","recipes","renderRecipes","clearTimeout","message","innerText","convertError","response","ok","json","Promise","reject","classList","add","remove","showReccipes","showRecipeDetail","addEventListener","username","value","performLogin","performLogout","renderTodos","html","map","todo","index","done","task","join","innerHTML","recipe_id","recipe","image","title","author","renderRecipeDetail","discription","ingredients","instructions","disabled","e","target","contains","console","log","id","fetch","method","description","ingridients","headers","credentials","redirect","body","JSON","stringify","dataset","Headers","getTodos"],"mappings":"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","file":"recipe.js","sourcesContent":["\"use strict\";\n\n\nimport\n  {\n    checkLoginStatus,\n\n    getRecipes, performLogin,\n    performLogout\n  } from './services';\n\n\n(function iife()\n{\n  const appState = {\n    pollId: null,\n    isLoggedIn: false,\n    todos: [],\n    error: '',\n  };\n\n  const errMsgs = {\n    'duplicate': 'That name already exists',\n    'network-error': 'There was a problem connecting to the network, try again',\n  };\n\n  const usernameInputEl = document.querySelector('#todo-app .username-input');\n\n  const loginButton = document.querySelector('#todo-app .login button')\n\n  const logoutButton = document.querySelector('#todo-app .logout-button')\n\n  const status = document.querySelector('.status');\n  // const taskInputEl = document.querySelector('#todo-app .add-task');\n  const addRecipeButton = document.querySelector('#todo-app .addRecipe-btn');\n\n  const recipeListEl = document.querySelector('main .recipe-list');\n  const recipeDetailEl = document.querySelector('main .recipe-detail');\n\n  const listEl = document.querySelector('#todo-app .todos');\n\n  const titleInputEl = document.getElementById('title');\n  const imageInputEl = document.getElementById('image');\n  const descriptionInputEl = document.getElementById('description');\n  const ingridientsInputEl = document.getElementById('ingredients');\n  const instructionsInputEl = document.getElementById('instructions');\n\n\n\n  disableButtonIfNoInput();\n  addLogin();\n  addLogout();\n\n  addAbilityToViewRecipes();\n  addAbilityToAddRecipes();\n  addAbilityToDeleteItems();\n\n\n  // Check for login\n  checkLoginStatus()\n    .then((userInfo) =>\n    {\n      appState.isLoggedIn = true;\n      poll(true);\n      showContent();\n    })\n    .catch(error =>\n    {\n      appState.isLoggedIn = false;\n      showLogin();\n    });\n\n\n  function poll(shouldPoll)\n  {\n    if (shouldPoll && !appState.pollId)\n    {\n      appState.pollId = setInterval(() =>\n      {\n        getRecipes()\n          .catch((err) =>\n          {\n            updateStatus(errMsgs[err.error] || err.error);\n          })\n          .then(recipes =>\n          {\n            appState.error = '';\n            appState.todos = recipes;\n            renderRecipes(recipes);\n          });\n      }, 3000);\n    }\n    // For when a user logs out:\n    if (!shouldPoll && appState.pollId)\n    {\n      clearTimeout(appState.pollId);\n      appState.pollId = null;\n    }\n  }\n\n  function updateStatus(message)\n  {\n    status.innerText = message;\n  }\n\n\n  function convertError(response)\n  {\n    if (response.ok)\n    {\n      return response.json();\n    }\n    return response.json()\n      .then(err => Promise.reject(err));\n  }\n\n  // TODO: Move these HTML-changing functions to an import from another file\n  function showContent()\n  {\n    document.querySelector('#todo-app .login').classList.add('hidden');\n    document.querySelector('#todo-app .logged-in').classList.remove('hidden');\n  }\n\n  function showLogin()\n  {\n    document.querySelector('#todo-app .login').classList.remove('hidden');\n    document.querySelector('#todo-app .logged-in').classList.add('hidden');\n  }\n  function showReccipes()\n  {\n    document.querySelector('.recipe-list').classList.remove('hidden');\n    document.querySelector('.recipe-detail').classList.add('hidden');\n\n  }\n  function showRecipeDetail()\n  {\n    document.querySelector('.recipe-list').classList.add('hidden');\n    document.querySelector('.recipe-detail').classList.remove('hidden');\n\n  }\n\n  function addLogin()\n  {\n    document.querySelector('#todo-app .login button').addEventListener('click', () =>\n    {\n\n      const username = usernameInputEl.value;\n\n      performLogin(username)\n        .then((userInfo) =>\n        {\n\n          appState.isLoggedIn = true;\n          appState.todos = userInfo;\n          appState.error = '';\n          poll(true);\n          showContent();\n          // renderTodos(userInfo.todos);\n          renderRecipes(userInfo);\n        })\n        .catch(err =>\n        {\n          updateStatus(errMsgs[err.error] || err.error);\n          showLogin();\n        });\n\n    });\n  }\n  function addLogout()\n  {\n    logoutButton.addEventListener('click', () =>\n    {\n      performLogout()\n        .then((userInfo) =>\n        {\n\n          showLogin();\n        })\n        .catch(err =>\n        {\n          updateStatus(errMsgs[err.error] || err.error);\n          showContent();\n        });\n\n    });\n  }\n\n  function renderTodos(todos)\n  {\n    const html = todos.map((todo, index) =>\n    {\n\n\n\n      return `\n      <li>\n        <span class=\"todo ${todo.done ? \"complete\" : \"\"}\" data-index=\"${index}\">${todo.task}</span>\n        <span class=\"delete\" data-index=\"${index}\">X</span>\n      </li>`;\n    }).join(\"\\n\");\n    listEl.innerHTML = html;\n    // addRecipeButton.disabled = !taskInputEl.value;\n  }\n\n  function renderRecipes(recipes)\n  {\n    let html = '';\n    for (const recipe_id in recipes) {\n      const recipe = recipes[recipe_id];\n      html += `\n        <li class=\"card\">\n          <div class=\"card__body\">\n            <img src=\"${recipe.image}\" alt=\"image for ${recipe.title}\" class=\"card__image\">\n            <h2 class=\"card__title\">${recipe.title}</h2>\n            <p class=\"card__description\">${recipe.author}</p>\n          </div>\n          <button class=\"card__btn\" id=\"${recipe_id}\">View Recipe</button>\n        </li>`;\n\n        // html += `\n        // <li class=\"card\">\n        //   <div class=\"card__body\">\n        //     <span class=\"card__image\" data-index=\"${recipe_id}\"><img src=\"${recipe.image}\" alt=\"image for ${recipe.title}\"></span>\n        //     <span class=\"words\" data-index=\"${recipe_id}\">\n\n        //     <h2 class=\"card__title\" data-index=\"${recipe_id}>${recipe.title}</h2>\n        //     <p class=\"card__author\">${recipe.author}</p>\n        //     <p class=\"card__description\" data-index=\"${recipe_id}>${recipe.description}</p>\n        //     </span>\n        //   </div>\n\n        // </li>`;\n    }\n    recipeListEl.innerHTML = html;\n    // addRecipeButton.disabled = !taskInputEl.value;\n  }\n\n  function renderRecipeDetail(recipe)\n  {\n    let html = `\n        <img src=\"${recipe.image}\" alt=\"image for ${recipe.title}\" class=\"\">\n        <h2>${recipe.title}</h2>\n        <p>${recipe.author}</p>\n        <p>${recipe.discription}</p>\n        <p>${recipe.ingredients}</p>\n        <p>${recipe.instructions}</p>`;\n\n\n\n    recipeDetailEl.innerHTML = html;\n    // addRecipeButton.disabled = !taskInputEl.value;\n  }\n\n  function disableButtonIfNoInput()\n  {\n\n    usernameInputEl.addEventListener('input', () =>\n    {\n      loginButton.disabled = !usernameInputEl.value;\n    })\n    // taskInputEl.addEventListener('input', () =>\n    // {\n    //   addRecipeButton.disabled = !taskInputEl.value;\n    // });\n  }\n\n  function addAbilityToViewRecipes()\n  {\n\n    recipeListEl.addEventListener('click', (e) =>\n    {\n      if (!e.target.classList.contains('card__btn'))\n      {\n        return;\n      }\n      console.log(e.target.id);\n      const recipe_id = e.target.id;\n\n      fetch(`/recipes/${recipe_id}`, {\n        method: 'get',\n      })\n        .catch(() => Promise.reject({ error: 'network-error' }))\n        .then(convertError)\n        .then(recipe =>\n        {\n          // taskInputEl.value = '';\n          showRecipeDetail();\n          renderRecipeDetail(recipe);\n          updateStatus('');\n        })\n        .catch(err =>\n        {\n          updateStatus(errMsgs[err.error] || err.error);\n        });\n    });\n  }\n\n  function addAbilityToAddRecipes()\n  {\n\n    addRecipeButton.addEventListener('click', (e) =>\n    {\n      const title = titleInputEl.value;\n      const image = imageInputEl.value;\n      const description = descriptionInputEl.value;\n      const ingridients = ingridientsInputEl.value;\n      const instructions = instructionsInputEl.value;\n\n\n      fetch(`/recipes`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        redirect: 'follow',\n        body: JSON.stringify({\n          title: title,\n          image: image,\n          description: description,\n          ingridients: ingridients,\n          instructions: instructions\n        })\n      })\n        .catch(() => Promise.reject({ error: 'network-error' }))\n        .then(convertError)\n        .then(recipes =>\n        {\n          titleInputEl.value = '';\n          imageInputEl.value = '';\n          descriptionInputEl.value = '';\n          ingridientsInputEl.value = '';\n          instructionsInputEl.value = '';\n          renderRecipes(recipes);\n\n          updateStatus('');\n        })\n        .catch(err =>\n        {\n          updateStatus(errMsgs[err.error] || err.error);\n        });\n    });\n  }\n\n  function addAbilityToDeleteItems()\n  {\n    listEl.addEventListener('click', (e) =>\n    {\n      if (!e.target.classList.contains('delete'))\n      {\n        return;\n      }\n\n      const index = e.target.dataset.index;\n\n      fetch(`/todos/${index}`, {\n        method: 'DELETE',\n      })\n        .catch(() => Promise.reject({ error: 'network-error' }))\n        .then(convertError)\n        .then(todos =>\n        {\n          // taskInputEl.value = '';\n          renderTodos(todos);\n          updateStatus('');\n        })\n        .catch(err =>\n        {\n          updateStatus(errMsgs[err.error] || err.error);\n        })\n    });\n  }\n\n  fetch('/recipes/', {\n    method: 'GET',\n  })\n    .catch(() => Promise.reject({ error: 'network-error' }))\n    .then(convertError)\n    .then(recipes =>\n    {\n\n      renderRecipes(recipes);\n      updateStatus('');\n    })\n    .catch(err =>\n    {\n      updateStatus(errMsgs[err.error] || err.error);\n    });\n\n})();\n","export const checkLoginStatus = function ()\n{\n  return fetch('/session', {\n    method: 'GET',\n  })\n    .catch(() =>\n    {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response =>\n    {\n      if (response.ok)\n      {\n        return response.json();\n      }\n      return response.json().then(err => Promise.reject(err));\n    });\n};\n\nexport const performLogin = function (username)\n{\n  return fetch('/session', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json',\n    }),\n    body: JSON.stringify({ username }),\n  })\n    .catch(() =>\n    {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response =>\n    {\n      if (response.ok)\n      {\n        return response.json();\n      }\n      return response.json().then(err => Promise.reject(err));\n    });\n};\n\nexport const performLogout = function ()\n{\n  return fetch('/session', {\n    method: 'DELETE',\n\n  })\n    .catch(() =>\n    {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response =>\n    {\n      if (response.ok)\n      {\n        return response.json();\n      }\n      return response.json().then(err => Promise.reject(err));\n    });\n};\n\nexport const getTodos = function ()\n{\n  return fetch('/todos', {\n    method: 'GET',\n  })\n    .catch(() =>\n    {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response =>\n    {\n      if (response.ok)\n      {\n        return response.json();\n      }\n      return response.json().then(err => Promise.reject(err));\n    });\n};\n\nexport const getRecipes = function ()\n{\n  return fetch('/recipes', {\n    method: 'GET',\n  })\n    .catch(() =>\n    {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response =>\n    {\n      if (response.ok)\n      {\n        return response.json();\n      }\n      return response.json().then(err => Promise.reject(err));\n    });\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n__webpack_require__(\"./src/recipe.js\");\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}