{"version":3,"sources":["webpack://ToDo List/./src/services.js","webpack://ToDo List/./src/todo.js","webpack://ToDo List/webpack/bootstrap","webpack://ToDo List/webpack/runtime/define property getters","webpack://ToDo List/webpack/runtime/hasOwnProperty shorthand","webpack://ToDo List/webpack/runtime/make namespace object","webpack://ToDo List/webpack/startup"],"names":["checkLoginStatus","fetch","method","Promise","reject","error","then","response","ok","json","err","performLogin","username","headers","Headers","body","JSON","stringify","performLogout","getTodos","iife","appState","pollId","isLoggedIn","todos","errMsgs","usernameInputEl","document","querySelector","loginButton","logoutButton","status","taskInputEl","addTaskButton","listEl","disableButtonIfNoInput","addLogin","addLogout","addAbilityToCompleteItems","addAbilityToAddItems","addAbilityToDeleteItems","userInfo","poll","showContent","showLogin","shouldPoll","setInterval","updateStatus","renderTodos","clearTimeout","message","innerText","convertError","classList","add","remove","addEventListener","value","html","map","todo","index","done","task","join","innerHTML","disabled","e","target","contains","dataset"],"mappings":"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","file":"todo.js","sourcesContent":["export const checkLoginStatus = function ()\n{\n  return fetch('/session', {\n    method: 'GET',\n  })\n    .catch(() =>\n    {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response =>\n    {\n      if (response.ok)\n      {\n        return response.json();\n      }\n      return response.json().then(err => Promise.reject(err));\n    });\n};\n\nexport const performLogin = function (username)\n{\n  return fetch('/session', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json',\n    }),\n    body: JSON.stringify({ username }),\n  })\n    .catch(() =>\n    {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response =>\n    {\n      if (response.ok)\n      {\n        return response.json();\n      }\n      return response.json().then(err => Promise.reject(err));\n    });\n};\n\nexport const performLogout = function ()\n{\n  return fetch('/session', {\n    method: 'DELETE',\n\n  })\n    .catch(() =>\n    {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response =>\n    {\n      if (response.ok)\n      {\n        return response.json();\n      }\n      return response.json().then(err => Promise.reject(err));\n    });\n};\n\nexport const getTodos = function ()\n{\n  return fetch('/todos', {\n    method: 'GET',\n  })\n    .catch(() =>\n    {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response =>\n    {\n      if (response.ok)\n      {\n        return response.json();\n      }\n      return response.json().then(err => Promise.reject(err));\n    });\n};\n","\"use strict\";\n\n\nimport\n{\n  checkLoginStatus,\n  getTodos, performLogin,\n  performLogout\n} from './services';\n\n\n(function iife()\n{\n  const appState = {\n    pollId: null,\n    isLoggedIn: false,\n    todos: [],\n    error: '',\n  };\n\n  const errMsgs = {\n    'duplicate': 'That name already exists',\n    'network-error': 'There was a problem connecting to the network, try again',\n  };\n\n  const usernameInputEl = document.querySelector('#todo-app .username-input');\n\n  const loginButton = document.querySelector('#todo-app .login button')\n\n  const logoutButton = document.querySelector('#todo-app .logout-button')\n\n  const status = document.querySelector('.status');\n  const taskInputEl = document.querySelector('#todo-app .add-task');\n  const addTaskButton = document.querySelector('#todo-app .addTask-button');\n\n  const listEl = document.querySelector('#todo-app .todos');\n\n\n  disableButtonIfNoInput();\n  addLogin();\n  addLogout();\n  addAbilityToCompleteItems();\n  addAbilityToAddItems();\n  addAbilityToDeleteItems();\n\n\n  // Check for login\n  checkLoginStatus()\n    .then((userInfo) =>\n    {\n      appState.isLoggedIn = true;\n      poll(true);\n      showContent();\n    })\n    .catch(error =>\n    {\n      appState.isLoggedIn = false;\n      showLogin();\n    });\n\n\n  function poll(shouldPoll)\n  {\n    if (shouldPoll && !appState.pollId)\n    {\n      appState.pollId = setInterval(() =>\n      {\n        getTodos()\n          .catch((err) =>\n          {\n            updateStatus(errMsgs[err.error] || err.error);\n          })\n          .then(todos =>\n          {\n            appState.error = '';\n            appState.todos = todos;\n            renderTodos(todos);\n          });\n      }, 3000);\n    }\n    // For when a user logs out:\n    if (!shouldPoll && appState.pollId)\n    {\n      clearTimeout(appState.pollId);\n      appState.pollId = null;\n    }\n  }\n\n  function updateStatus(message)\n  {\n    status.innerText = message;\n  }\n\n\n  function convertError(response)\n  {\n    if (response.ok)\n    {\n      return response.json();\n    }\n    return response.json()\n      .then(err => Promise.reject(err));\n  }\n\n  // TODO: Move these HTML-changing functions to an import from another file\n  function showContent()\n  {\n    document.querySelector('#todo-app .login').classList.add('hidden');\n    document.querySelector('#todo-app .logged-in').classList.remove('hidden');\n  }\n\n  function showLogin()\n  {\n    document.querySelector('#todo-app .login').classList.remove('hidden');\n    document.querySelector('#todo-app .logged-in').classList.add('hidden');\n  }\n\n  function addLogin()\n  {\n    document.querySelector('#todo-app .login button').addEventListener('click', () =>\n    {\n\n      const username = usernameInputEl.value;\n\n      performLogin(username)\n        .then((userInfo) =>\n        {\n\n          appState.isLoggedIn = true;\n          appState.todos = userInfo.todos;\n          appState.error = '';\n          poll(true);\n          showContent();\n          renderTodos(userInfo.todos);\n        })\n        .catch(err =>\n        {\n          updateStatus(errMsgs[err.error] || err.error);\n          showLogin();\n        });\n\n    });\n  }\n  function addLogout()\n  {\n    logoutButton.addEventListener('click', () =>\n    {\n      performLogout()\n        .then((userInfo) =>\n        {\n\n          showLogin();\n        })\n        .catch(err =>\n        {\n          updateStatus(errMsgs[err.error] || err.error);\n          showContent();\n        });\n\n    });\n  }\n\n  function renderTodos(todos)\n  {\n    const html = todos.map((todo, index) =>\n    {\n\n\n\n      return `\n      <li>\n        <span class=\"todo ${todo.done ? \"complete\" : \"\"}\" data-index=\"${index}\">${todo.task}</span>\n        <span class=\"delete\" data-index=\"${index}\">X</span>\n      </li>`;\n    }).join(\"\\n\");\n    listEl.innerHTML = html;\n    addTaskButton.disabled = !taskInputEl.value;\n  }\n\n\n  function disableButtonIfNoInput()\n  {\n\n    usernameInputEl.addEventListener('input', () =>\n    {\n      loginButton.disabled = !usernameInputEl.value;\n    })\n    taskInputEl.addEventListener('input', () =>\n    {\n      addTaskButton.disabled = !taskInputEl.value;\n    });\n  }\n\n  function addAbilityToCompleteItems()\n  {\n    listEl.addEventListener('click', (e) =>\n    {\n      if (!e.target.classList.contains('todo'))\n      {\n        return;\n      }\n      const index = e.target.dataset.index;\n\n      fetch(`/todos/${index}`, {\n        method: 'PATCH',\n      })\n        .catch(() => Promise.reject({ error: 'network-error' }))\n        .then(convertError)\n        .then(todos =>\n        {\n          taskInputEl.value = '';\n          renderTodos(todos);\n          updateStatus('');\n        })\n        .catch(err =>\n        {\n          updateStatus(errMsgs[err.error] || err.error);\n        });\n    });\n  }\n\n  function addAbilityToAddItems()\n  {\n    addTaskButton.addEventListener('click', (e) =>\n    {\n\n      const task = taskInputEl.value;\n      fetch(`/todos/${task}`, {\n        method: 'POST',\n      })\n        .catch(() => Promise.reject({ error: 'network-error' }))\n        .then(convertError)\n        .then(todos =>\n        {\n          taskInputEl.value = '';\n          renderTodos(todos);\n          updateStatus('');\n        })\n        .catch(err =>\n        {\n          updateStatus(errMsgs[err.error] || err.error);\n        });\n    });\n  }\n\n  function addAbilityToDeleteItems()\n  {\n    listEl.addEventListener('click', (e) =>\n    {\n      if (!e.target.classList.contains('delete'))\n      {\n        return;\n      }\n\n      const index = e.target.dataset.index;\n\n      fetch(`/todos/${index}`, {\n        method: 'DELETE',\n      })\n        .catch(() => Promise.reject({ error: 'network-error' }))\n        .then(convertError)\n        .then(todos =>\n        {\n          taskInputEl.value = '';\n          renderTodos(todos);\n          updateStatus('');\n        })\n        .catch(err =>\n        {\n          updateStatus(errMsgs[err.error] || err.error);\n        })\n    });\n  }\n\n  fetch('/todos/', {\n    method: 'GET',\n  })\n    .catch(() => Promise.reject({ error: 'network-error' }))\n    .then(convertError)\n    .then(todos =>\n    {\n      renderTodos(todos);\n      updateStatus('');\n    })\n    .catch(err =>\n    {\n      updateStatus(errMsgs[err.error] || err.error);\n    });\n\n})();\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n__webpack_require__(\"./src/todo.js\");\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}