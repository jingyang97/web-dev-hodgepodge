{"version":3,"sources":["webpack://recipes-app/./src/html.js","webpack://recipes-app/./src/recipe.js","webpack://recipes-app/./src/services.js","webpack://recipes-app/webpack/bootstrap","webpack://recipes-app/webpack/runtime/define property getters","webpack://recipes-app/webpack/runtime/hasOwnProperty shorthand","webpack://recipes-app/webpack/runtime/make namespace object","webpack://recipes-app/webpack/startup"],"names":["showContent","document","querySelector","classList","add","remove","showLogin","showReccipes","showRecipeDetail","iife","appState","pollId","isLoggedIn","recipes","error","errMsgs","usernameInputEl","loginButton","logoutButton","loginStatus","newRecipeStatus","addRecipeButton","recipeListEl","recipeDetailEl","titleInputEl","getElementById","imageInputEl","descriptionInputEl","ingredientsInputEl","instructionsInputEl","disableButtonIfNoInput","addLogin","addLogout","addAbilityToViewRecipes","addAbilityToAddRecipes","checkLoginStatus","then","userInfo","poll","shouldPoll","setInterval","getRecipes","err","updateStatus","renderRecipes","clearTimeout","loginMsg","newRecipeMsg","innerText","addEventListener","username","value","performLogin","performLogout","html","recipe_id","recipe","image","title","author","innerHTML","strArrayProcessor","plainText","strArray","split","processedArray","map","s","join","renderRecipeDetail","ingredients","instructions","description","disabled","e","target","contains","id","getRecipeDetail","new_recipe","createNewRecipe","onLoad","fetch","method","Promise","reject","response","ok","json","headers","Headers","body","JSON","stringify","credentials","redirect"],"mappings":"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","file":"recipe.js","sourcesContent":["\"use strict\";\n\nexport const showContent = function ()\n  {\n    document.querySelector('#recipe-app .login').classList.add('hidden');\n    document.querySelector('#recipe-app .logged-in').classList.remove('hidden');\n    document.querySelector('#recipe-app .new-recipe').classList.remove('hidden');\n\n\n\n};\n\nexport const showLogin = function ()\n{\n    document.querySelector('#recipe-app .login').classList.remove('hidden');\n    document.querySelector('#recipe-app .logged-in').classList.add('hidden');\n    document.querySelector('#recipe-app .new-recipe').classList.add('hidden');\n\n};\n\nexport const showReccipes = function ()\n{\n    document.querySelector('#recipe-app .recipe-list').classList.remove('hidden');\n    document.querySelector('#recipe-app .recipe-detail').classList.add('hidden');\n\n\n};\n\nexport const showRecipeDetail = function ()\n{\n\n    document.querySelector('#recipe-app .recipe-list').classList.add('hidden');\n    document.querySelector('#recipe-app .recipe-detail').classList.remove('hidden');\n\n  };\n\n","\"use strict\";\n\nimport { showContent, showLogin, showReccipes, showRecipeDetail } from './html';\nimport\n  {\n    checkLoginStatus,\n    createNewRecipe, getRecipeDetail, getRecipes,\n    onLoad, performLogin,\n    performLogout\n  } from './services';\n\n\n(function iife()\n{\n  const appState = {\n    pollId: null,\n    isLoggedIn: false,\n    recipes: {},\n    error: '',\n  };\n\n  const errMsgs = {\n    'duplicate': 'That name already exists',\n    'network-error': 'There was a problem connecting to the network, try again',\n    'no-recipe': 'Recipe is undefined',\n    'empty-recipe': 'New recipe mush at least include Title, Ingredients, and Instructions'\n  };\n\n  const usernameInputEl = document.querySelector('#recipe-app .username-input');\n  const loginButton = document.querySelector('#recipe-app .login button')\n  const logoutButton = document.querySelector('#recipe-app .logout-button')\n  const loginStatus = document.querySelector('.login-status');\n  const newRecipeStatus = document.querySelector('.new-recipe-status');\n  const addRecipeButton = document.querySelector('#recipe-app .addRecipe-btn');\n  const recipeListEl = document.querySelector('main .recipe-list');\n  const recipeDetailEl = document.querySelector('main .recipe-detail');\n  const titleInputEl = document.getElementById('title');\n  const imageInputEl = document.getElementById('image');\n  const descriptionInputEl = document.getElementById('description');\n  const ingredientsInputEl = document.getElementById('ingredients');\n  const instructionsInputEl = document.getElementById('instructions');\n\n\n\n  disableButtonIfNoInput();\n  addLogin();\n  addLogout();\n\n  addAbilityToViewRecipes();\n  addAbilityToAddRecipes();\n\n\n\n  // Check for login\n  checkLoginStatus()\n    .then((userInfo) =>\n    {\n      appState.isLoggedIn = true;\n      poll(true);\n      showContent();\n      showReccipes();\n    })\n    .catch(error =>\n    {\n      appState.isLoggedIn = false;\n      showLogin();\n      showReccipes();\n    });\n\n\n  function poll(shouldPoll)\n  {\n    if (shouldPoll && !appState.pollId)\n    {\n      appState.pollId = setInterval(() =>\n      {\n        getRecipes()\n          .catch((err) =>\n          {\n            updateStatus(errMsgs[err.error] || err.error, '');\n          })\n          .then(recipes =>\n          {\n            appState.error = '';\n            appState.recipes = recipes;\n            renderRecipes(recipes);\n            updateStatus('', '');\n          });\n      }, 3000);\n    }\n    // For when a user logs out:\n    if (!shouldPoll && appState.pollId)\n    {\n      clearTimeout(appState.pollId);\n      appState.pollId = null;\n    }\n  }\n\n  function updateStatus(loginMsg, newRecipeMsg)\n  {\n    loginStatus.innerText = loginMsg;\n    newRecipeStatus.innerText = newRecipeMsg;\n  }\n\n\n  function addLogin()\n  {\n    document.querySelector('#recipe-app .login button').addEventListener('click', () =>\n    {\n\n      const username = usernameInputEl.value;\n\n      performLogin(username)\n        .then((userInfo) =>\n        {\n\n          appState.isLoggedIn = true;\n          appState.recipes = userInfo;\n          appState.error = '';\n          poll(true);\n          showContent();\n          showReccipes();\n          renderRecipes(userInfo);\n        })\n        .catch(err =>\n        {\n\n          updateStatus(err[0], '');\n          showLogin();\n          showReccipes();\n        });\n\n    });\n  }\n\n  function addLogout()\n  {\n    logoutButton.addEventListener('click', () =>\n    {\n      performLogout()\n        .then((userInfo) =>\n        {\n\n          showLogin();\n        })\n        .catch(err =>\n        {\n          updateStatus(errMsgs[err.error] || err.error, '');\n          showContent();\n          showReccipes();\n        });\n\n    });\n  }\n\n\n\n  function renderRecipes(recipes)\n  {\n    let html = '';\n    for (const recipe_id in recipes) {\n      const recipe = recipes[recipe_id];\n      html += `\n        <li class=\"card\">\n          <div class=\"card__body\">\n            <img src=\"${recipe.image}\" alt=\"image for ${recipe.title}\" class=\"card__image\">\n            <h2 class=\"card__title\">${recipe.title}</h2>\n            <p class=\"card__description\">By ${recipe.author}</p>\n          </div>\n          <button class=\"card__btn\" id=\"${recipe_id}\">View Recipe</button>\n        </li>`;\n    }\n    recipeListEl.innerHTML = html;\n  }\n\n  function strArrayProcessor(plainText) {\n    const strArray = plainText.split(\"\\n\");\n    const processedArray = strArray.map((s) =>\n    {\n      return `\n      <li>\n        ${s}\n      </li>`;\n    }).join(\"\");\n    return processedArray;\n  }\n\n  function renderRecipeDetail(recipe)\n  {\n    const ingredients = strArrayProcessor(recipe.ingredients);\n    const instructions = strArrayProcessor(recipe.instructions);\n    let html = `\n        <img src=\"${recipe.image}\" alt=\"image for ${recipe.title}\" class=\"\">\n        <h2>${recipe.title}</h2>\n        <p class=\"author\">Written By: ${recipe.author}</p>\n        <p class=\"description\">${recipe.description}</p>\n        <h3>Ingredients</h3>\n        <ul class=\"ingredients\">${ingredients}</ul>\n        <h3>Instructions</h3>\n        <ol class=\"instructions\">${instructions}</ol>`;\n\n    recipeDetailEl.innerHTML = html;\n\n  }\n\n  function disableButtonIfNoInput()\n  {\n    usernameInputEl.addEventListener('input', () =>\n    {\n      loginButton.disabled = !usernameInputEl.value;\n    })\n    titleInputEl.addEventListener('input', () =>\n    {\n      addRecipeButton.disabled = !titleInputEl.value;\n    })\n    ingredientsInputEl.addEventListener('input', () =>\n    {\n      addRecipeButton.disabled = !ingredientsInputEl.value;\n    })\n    instructionsInputEl.addEventListener('input', () =>\n    {\n      addRecipeButton.disabled = !instructionsInputEl.value;\n    })\n  }\n\n  function addAbilityToViewRecipes()\n  {\n\n    recipeListEl.addEventListener('click', (e) =>\n    {\n      if (!e.target.classList.contains('card__btn'))\n      {\n        return;\n      }\n      const recipe_id = e.target.id;\n\n      getRecipeDetail(recipe_id)\n      .then((recipe) =>\n      {\n        showRecipeDetail();\n        renderRecipeDetail(recipe);\n        updateStatus('', '');\n      })\n      .catch(err =>\n      {\n        updateStatus(errMsgs[err.error] || err.error, '');\n      });\n    });\n  }\n\n  function addAbilityToAddRecipes()\n  {\n\n    addRecipeButton.addEventListener('click', (e) =>\n    {\n      const title = titleInputEl.value;\n      const image = imageInputEl.value;\n      const description = descriptionInputEl.value;\n      const ingredients = ingredientsInputEl.value;\n      const instructions = instructionsInputEl.value;\n      const new_recipe = {\n        title: title,\n        image: image,\n        description: description,\n        ingredients: ingredients,\n        instructions: instructions\n      }\n\n      createNewRecipe(new_recipe)\n        .then(recipes =>\n        {\n          titleInputEl.value = '';\n          imageInputEl.value = '';\n          descriptionInputEl.value = '';\n          ingredientsInputEl.value = '';\n          instructionsInputEl.value = '';\n          renderRecipes(recipes);\n\n          updateStatus('', '');\n        })\n        .catch(err =>\n        {\n          updateStatus('', errMsgs[err.error] || err.error);\n        });\n    });\n  }\n\n\n\n\n  onLoad()\n  .then((recipes) =>\n      {\n        showReccipes();\n          renderRecipes(recipes);\n          updateStatus('', '');\n      })\n      .catch(err =>\n      {\n        updateStatus(errMsgs[err.error] || err.error, '');\n      });\n\n})();\n","export const checkLoginStatus = function ()\n{\n  return fetch('/session', {\n    method: 'GET',\n  })\n    .catch(() =>\n    {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response =>\n    {\n      if (response.ok)\n      {\n        return response.json();\n      }\n      return response.json().then(err => Promise.reject(err));\n    });\n};\n\nexport const performLogin = function (username)\n{\n  return fetch('/session', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json',\n    }),\n    body: JSON.stringify({ username }),\n  })\n    .catch(() =>\n    {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response =>\n    {\n      if (response.ok)\n      {\n        return response.json();\n      }\n      return response.json().then(err =>\n\n\n        Promise.reject(err));\n    });\n};\n\nexport const performLogout = function ()\n{\n  return fetch('/session', {\n    method: 'DELETE',\n\n  })\n    .catch(() =>\n    {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response =>\n    {\n      if (response.ok)\n      {\n        return response.json();\n      }\n      return response.json().then(err => Promise.reject(err));\n    });\n};\n\nexport const getRecipes = function ()\n{\n  return fetch('/recipes', {\n    method: 'GET',\n  })\n    .catch(() =>\n    {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response =>\n    {\n      if (response.ok)\n      {\n        return response.json();\n      }\n      return response.json().then(err => Promise.reject(err));\n    });\n};\n\nexport const getRecipeDetail = function (recipe_id) {\n  return  fetch(`/recipes/${recipe_id}`, {\n    method: 'get',\n  })\n  .catch(() =>\n    {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response =>\n    {\n      if (response.ok)\n      {\n        return response.json();\n      }\n      return response.json().then(err => Promise.reject(err));\n    });\n\n  };\n\nexport const onLoad = function () {\n    return fetch('/recipes/', {\n      method: 'GET',\n    })\n    .catch(() =>\n    {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response =>\n    {\n      if (response.ok)\n      {\n        return response.json();\n      }\n      return response.json().then(err => Promise.reject(err));\n    });\n  };\n\n  export const createNewRecipe = function (recipe) {\n    return fetch(`/recipes`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include',\n      redirect: 'follow',\n      body: JSON.stringify(\n        recipe\n      )\n    })\n    .catch(() =>\n    {\n      return Promise.reject({ error: 'network-error' });\n    })\n    .then(response =>\n    {\n      if (response.ok)\n      {\n        return response.json();\n      }\n      return response.json().then(err =>\n\n\n        Promise.reject(err));\n    });\n\n    };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n__webpack_require__(\"./src/recipe.js\");\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}